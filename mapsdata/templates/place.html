{% extends "base.html" %}

{% load static %}

{% block upper_content %}
    <p class="text-center text-gray-100 px-16
                lg:mx-24">
        {{ description }}
    </p>
{% endblock %}


{% block lower_content %}
    <div class="flex flex-col items-center justify-center -mt-24 mx-2 bg-white rounded-md z-10">
        <div class="flex flex-row flex-wrap justify-center my-4">
            {% for marker in markers %}
                <label class="mx-2 my-3 {% if markers|length == 1 %}hidden{% endif %}" for="map-selector-{{ forloop.counter }}">
                    <input
                        class="hidden"
                        type="radio"
                        id="map-selector-{{ forloop.counter }}"
                        name="map-selector"
                        {% if forloop.counter == 1 %}checked{% endif %}
                    >
                    <span
                        class="p-2 shadow-sm rounded-2xl border border-gray-600 label-checked:border-2"
                    >
                        {{ marker.map.name }}
                    </span>
                </label>
            {% endfor %}
        </div>
        <div class="flex flex-col p-2 mb-8 items-center lg:items-start lg:flex-row lg:justify-center">
            {% for marker in markers %}
                <div class="{% if forloop.counter > 1 %}hidden{% endif %} relative m-2 w-full lg:m-0 lg:w-2/3" id="map-imagewrapper-{{ forloop.counter }}">
                    <img
                        src="{{ marker.map.image.url }}"
                        class="object-contain"
                        id="map-image-{{ forloop.counter }}"
                    >
                    <img
                        src="{% static "img/marker-1.png" %}"
                        class="opacity-0 absolute w-5 h-5 object-contain
                                sm:w-7 sm:h-7"
                        id="map-marker-{{ forloop.counter }}"
                        data-markerx={{ marker.x }}
                        data-markery={{ marker.y }}
                    >
                </div>
            {% endfor %}
        </div>
    </div>
    <script src="{% static "js/marker.js" %}"></script>
{% endblock %}