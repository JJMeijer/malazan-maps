runtime: python39

instance_class: F1

handlers:
- url: /sitemap.xml
  secure: always
  redirect_http_response_code: 301
  static_files: www/sitemap.xml
  upload: www/sitemap.xml

- url: /robots.txt
  secure: always
  redirect_http_response_code: 301
  static_files: www/static/robots.txt
  upload: www/static/robots.txt

- url: /favicon.ico
  secure: always
  redirect_http_response_code: 301
  static_files: www/static/img/favicon.ico
  upload: www/static/img/favicon.ico

# Static Files
- url: /static
  secure: always
  redirect_http_response_code: 301
  static_dir: www/static

# Content Files
- url: /content
  secure: always
  redirect_http_response_code: 301
  static_dir: www/content

# Home Page
- url: /
  secure: always
  redirect_http_response_code: 301
  static_files: www/index.html
  upload: www/index.html

# All Other Pages
- url: /(.*)/
  secure: always
  redirect_http_response_code: 301
  static_files: www/\1/index.html
  upload: www/(.*)/index.html

- url: /(.*)$
  secure: always
  redirect_http_response_code: 301
  static_files: www/\1/index.html
  upload: www/(.*)/index.html
