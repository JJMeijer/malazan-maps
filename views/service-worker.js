(()=>{var w=(e,s)=>()=>(e&&(s=e(e=0)),s);var v=(e,s)=>()=>(s||e((s={exports:{}}).exports,s),s.exports);var l=(e,s,t)=>new Promise((i,n)=>{var p=a=>{try{r(t.next(a))}catch(c){n(c)}},h=a=>{try{r(t.throw(a))}catch(c){n(c)}},r=a=>a.done?i(a.value):Promise.resolve(a.value).then(p,h);r((t=t.apply(e,s)).next())});var u,m=w(()=>{u="1.4.0"});var g=v(d=>{m();var o=`malazan-cache-${u}`,y=[`/static/css/main-dist.css?v=${new Date().getTime()}`,`/static/js/main.js?v=${new Date().getTime()}`,`/data.json?v=${new Date().getTime()}`,`/manifest.json?v=${new Date().getTime()}`];self.addEventListener("install",e=>{let s=()=>l(d,null,function*(){let t=yield caches.open(o);return Promise.all(y.map(i=>l(d,null,function*(){return(yield t.match(i,{ignoreSearch:!0}))?(yield t.delete(i,{ignoreSearch:!0}),yield t.add(i)):yield t.add(i)})))});self.skipWaiting(),e.waitUntil(s())});self.addEventListener("activate",e=>{self.clients.claim(),e.waitUntil(caches.keys().then(s=>Promise.all(s.map(t=>{if(t!==o)return caches.delete(t)}))))});self.addEventListener("fetch",e=>{e.respondWith(caches.open(o).then(s=>s.match(e.request,{ignoreSearch:!0}).then(t=>t||fetch(e.request).then(i=>(e.request.method==="GET"&&(e.request.destination==="image"||e.request.mode==="navigate")&&s.put(e.request,i.clone()),i)))))})});g();})();
