"use strict";(()=>{var ct=Object.defineProperty;var De=Object.getOwnPropertySymbols;var at=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;var j=Math.pow,Pe=(t,e,s)=>e in t?ct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,H=(t,e)=>{for(var s in e||(e={}))at.call(e,s)&&Pe(t,s,e[s]);if(De)for(var s of De(e))lt.call(e,s)&&Pe(t,s,e[s]);return t};var je=(t,e,s)=>new Promise((r,n)=>{var o=a=>{try{c(s.next(a))}catch(l){n(l)}},i=a=>{try{c(s.throw(a))}catch(l){n(l)}},c=a=>a.done?r(a.value):Promise.resolve(a.value).then(o,i);c((s=s.apply(t,e)).next())});var re=()=>{let t=[];window.addEventListener("error",e=>{let{filename:s,error:{message:r,stack:n,name:o}}=e,i=[s,r,o].join("");if(t.indexOf(i)===-1){t.push(i);let c=new URLSearchParams({name:o,message:r,stack:n});fetch(`/static/js/error.js?${c.toString()}`)}})};var ne=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")})};function R(t){return Array.isArray?Array.isArray(t):Ue(t)==="[object Array]"}var ht=1/0;function ut(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-ht?"-0":e}function dt(t){return t==null?"":ut(t)}function v(t){return typeof t=="string"}function Xe(t){return typeof t=="number"}function mt(t){return t===!0||t===!1||ft(t)&&Ue(t)=="[object Boolean]"}function Ge(t){return typeof t=="object"}function ft(t){return Ge(t)&&t!==null}function x(t){return t!=null}function oe(t){return!t.trim().length}function Ue(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var pt="Incorrect 'index' type",gt=t=>`Invalid value for key ${t}`,Et=t=>`Pattern length exceeds max of ${t}.`,Lt=t=>`Missing ${t} property in key`,wt=t=>`Property 'weight' in key '${t}' must be a positive integer`,Be=Object.prototype.hasOwnProperty,ie=class{constructor(e){this._keys=[],this._keyMap={};let s=0;e.forEach(r=>{let n=ze(r);s+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,s+=n.weight}),this._keys.forEach(r=>{r.weight/=s})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function ze(t){let e=null,s=null,r=null,n=1,o=null;if(v(t)||R(t))r=t,e=We(t),s=ce(t);else{if(!Be.call(t,"name"))throw new Error(Lt("name"));let i=t.name;if(r=i,Be.call(t,"weight")&&(n=t.weight,n<=0))throw new Error(wt(i));e=We(i),s=ce(i),o=t.getFn}return{path:e,id:s,weight:n,src:r,getFn:o}}function We(t){return R(t)?t:t.split(".")}function ce(t){return R(t)?t.join("."):t}function Mt(t,e){let s=[],r=!1,n=(o,i,c)=>{if(!!x(o))if(!i[c])s.push(o);else{let a=i[c],l=o[a];if(!x(l))return;if(c===i.length-1&&(v(l)||Xe(l)||mt(l)))s.push(dt(l));else if(R(l)){r=!0;for(let h=0,u=l.length;h<u;h+=1)n(l[h],i,c+1)}else i.length&&n(l,i,c+1)}};return n(t,v(e)?e.split("."):e,0),r?s:s[0]}var xt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},yt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},vt={location:0,threshold:.6,distance:100},It={useExtendedSearch:!1,getFn:Mt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},d=H(H(H(H({},yt),xt),vt),It),bt=/[^ ]+/g;function Rt(t=1,e=3){let s=new Map,r=Math.pow(10,e);return{get(n){let o=n.match(bt).length;if(s.has(o))return s.get(o);let i=1/Math.pow(o,.5*t),c=parseFloat(Math.round(i*r)/r);return s.set(o,c),c},clear(){s.clear()}}}var B=class{constructor({getFn:e=d.getFn,fieldNormWeight:s=d.fieldNormWeight}={}){this.norm=Rt(s,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((s,r)=>{this._keysMap[s.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,v(this.docs[0])?this.docs.forEach((e,s)=>{this._addString(e,s)}):this.docs.forEach((e,s)=>{this._addObject(e,s)}),this.norm.clear())}add(e){let s=this.size();v(e)?this._addString(e,s):this._addObject(e,s)}removeAt(e){this.records.splice(e,1);for(let s=e,r=this.size();s<r;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(e,s){return e[this._keysMap[s]]}size(){return this.records.length}_addString(e,s){if(!x(e)||oe(e))return;let r={v:e,i:s,n:this.norm.get(e)};this.records.push(r)}_addObject(e,s){let r={i:s,$:{}};this.keys.forEach((n,o)=>{let i=n.getFn?n.getFn(e):this.getFn(e,n.path);if(!!x(i)){if(R(i)){let c=[],a=[{nestedArrIndex:-1,value:i}];for(;a.length;){let{nestedArrIndex:l,value:h}=a.pop();if(!!x(h))if(v(h)&&!oe(h)){let u={v:h,i:l,n:this.norm.get(h)};c.push(u)}else R(h)&&h.forEach((u,m)=>{a.push({nestedArrIndex:m,value:u})})}r.$[o]=c}else if(v(i)&&!oe(i)){let c={v:i,n:this.norm.get(i)};r.$[o]=c}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}};function Ze(t,e,{getFn:s=d.getFn,fieldNormWeight:r=d.fieldNormWeight}={}){let n=new B({getFn:s,fieldNormWeight:r});return n.setKeys(t.map(ze)),n.setSources(e),n.create(),n}function St(t,{getFn:e=d.getFn,fieldNormWeight:s=d.fieldNormWeight}={}){let{keys:r,records:n}=t,o=new B({getFn:e,fieldNormWeight:s});return o.setKeys(r),o.setIndexRecords(n),o}function U(t,{errors:e=0,currentLocation:s=0,expectedLocation:r=0,distance:n=d.distance,ignoreLocation:o=d.ignoreLocation}={}){let i=e/t.length;if(o)return i;let c=Math.abs(r-s);return n?i+c/n:c?1:i}function Tt(t=[],e=d.minMatchCharLength){let s=[],r=-1,n=-1,o=0;for(let i=t.length;o<i;o+=1){let c=t[o];c&&r===-1?r=o:!c&&r!==-1&&(n=o-1,n-r+1>=e&&s.push([r,n]),r=-1)}return t[o-1]&&o-r>=e&&s.push([r,o-1]),s}var $=32;function At(t,e,s,{location:r=d.location,distance:n=d.distance,threshold:o=d.threshold,findAllMatches:i=d.findAllMatches,minMatchCharLength:c=d.minMatchCharLength,includeMatches:a=d.includeMatches,ignoreLocation:l=d.ignoreLocation}={}){if(e.length>$)throw new Error(Et($));let h=e.length,u=t.length,m=Math.max(0,Math.min(r,u)),p=o,f=m,g=c>1||a,w=g?Array(u):[],M;for(;(M=t.indexOf(e,f))>-1;){let E=U(e,{currentLocation:M,expectedLocation:m,distance:n,ignoreLocation:l});if(p=Math.min(E,p),f=M+h,g){let A=0;for(;A<h;)w[M+A]=1,A+=1}}f=-1;let T=[],b=1,F=h+u,X=1<<h-1;for(let E=0;E<h;E+=1){let A=0,_=F;for(;A<_;)U(e,{errors:E,currentLocation:m+_,expectedLocation:m,distance:n,ignoreLocation:l})<=p?A=_:F=_,_=Math.floor((F-A)/2+A);F=_;let Oe=Math.max(1,m-_+1),se=i?u:Math.min(m+_,u)+h,C=Array(se+2);C[se+1]=(1<<E)-1;for(let y=se;y>=Oe;y-=1){let G=y-1,Ce=s[t.charAt(G)];if(g&&(w[G]=+!!Ce),C[y]=(C[y+1]<<1|1)&Ce,E&&(C[y]|=(T[y+1]|T[y])<<1|1|T[y+1]),C[y]&X&&(b=U(e,{errors:E,currentLocation:G,expectedLocation:m,distance:n,ignoreLocation:l}),b<=p)){if(p=b,f=G,f<=m)break;Oe=Math.max(1,2*m-f)}}if(U(e,{errors:E+1,currentLocation:m,expectedLocation:m,distance:n,ignoreLocation:l})>p)break;T=C}let O={isMatch:f>=0,score:Math.max(.001,b)};if(g){let E=Tt(w,c);E.length?a&&(O.indices=E):O.isMatch=!1}return O}function _t(t){let e={};for(let s=0,r=t.length;s<r;s+=1){let n=t.charAt(s);e[n]=(e[n]||0)|1<<r-s-1}return e}var z=class{constructor(e,{location:s=d.location,threshold:r=d.threshold,distance:n=d.distance,includeMatches:o=d.includeMatches,findAllMatches:i=d.findAllMatches,minMatchCharLength:c=d.minMatchCharLength,isCaseSensitive:a=d.isCaseSensitive,ignoreLocation:l=d.ignoreLocation}={}){if(this.options={location:s,threshold:r,distance:n,includeMatches:o,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:a,ignoreLocation:l},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let h=(m,p)=>{this.chunks.push({pattern:m,alphabet:_t(m),startIndex:p})},u=this.pattern.length;if(u>$){let m=0,p=u%$,f=u-p;for(;m<f;)h(this.pattern.substr(m,$),m),m+=$;if(p){let g=u-$;h(this.pattern.substr(g),g)}}else h(this.pattern,0)}searchIn(e){let{isCaseSensitive:s,includeMatches:r}=this.options;if(s||(e=e.toLowerCase()),this.pattern===e){let f={isMatch:!0,score:0};return r&&(f.indices=[[0,e.length-1]]),f}let{location:n,distance:o,threshold:i,findAllMatches:c,minMatchCharLength:a,ignoreLocation:l}=this.options,h=[],u=0,m=!1;this.chunks.forEach(({pattern:f,alphabet:g,startIndex:w})=>{let{isMatch:M,score:T,indices:b}=At(e,f,g,{location:n+w,distance:o,threshold:i,findAllMatches:c,minMatchCharLength:a,includeMatches:r,ignoreLocation:l});M&&(m=!0),u+=T,M&&b&&(h=[...h,...b])});let p={isMatch:m,score:m?u/this.chunks.length:1};return m&&r&&(p.indices=h),p}},I=class{constructor(e){this.pattern=e}static isMultiMatch(e){return Ve(e,this.multiRegex)}static isSingleMatch(e){return Ve(e,this.singleRegex)}search(){}};function Ve(t,e){let s=t.match(e);return s?s[1]:null}var ae=class extends I{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let s=e===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}},le=class extends I{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},he=class extends I{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let s=e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}},ue=class extends I{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let s=!e.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}},de=class extends I{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let s=e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},me=class extends I{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let s=!e.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}},Z=class extends I{constructor(e,{location:s=d.location,threshold:r=d.threshold,distance:n=d.distance,includeMatches:o=d.includeMatches,findAllMatches:i=d.findAllMatches,minMatchCharLength:c=d.minMatchCharLength,isCaseSensitive:a=d.isCaseSensitive,ignoreLocation:l=d.ignoreLocation}={}){super(e),this._bitapSearch=new z(e,{location:s,threshold:r,distance:n,includeMatches:o,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:a,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},Q=class extends I{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let s=0,r,n=[],o=this.pattern.length;for(;(r=e.indexOf(this.pattern,s))>-1;)s=r+o,n.push([r,s-1]);let i=!!n.length;return{isMatch:i,score:i?0:1,indices:n}}},fe=[ae,Q,he,ue,me,de,le,Z],Ke=fe.length,kt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Ht="|";function $t(t,e={}){return t.split(Ht).map(s=>{let r=s.trim().split(kt).filter(o=>o&&!!o.trim()),n=[];for(let o=0,i=r.length;o<i;o+=1){let c=r[o],a=!1,l=-1;for(;!a&&++l<Ke;){let h=fe[l],u=h.isMultiMatch(c);u&&(n.push(new h(u,e)),a=!0)}if(!a)for(l=-1;++l<Ke;){let h=fe[l],u=h.isSingleMatch(c);if(u){n.push(new h(u,e));break}}}return n})}var Nt=new Set([Z.type,Q.type]),pe=class{constructor(e,{isCaseSensitive:s=d.isCaseSensitive,includeMatches:r=d.includeMatches,minMatchCharLength:n=d.minMatchCharLength,ignoreLocation:o=d.ignoreLocation,findAllMatches:i=d.findAllMatches,location:c=d.location,threshold:a=d.threshold,distance:l=d.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:r,minMatchCharLength:n,findAllMatches:i,ignoreLocation:o,location:c,threshold:a,distance:l},this.pattern=s?e:e.toLowerCase(),this.query=$t(this.pattern,this.options)}static condition(e,s){return s.useExtendedSearch}searchIn(e){let s=this.query;if(!s)return{isMatch:!1,score:1};let{includeMatches:r,isCaseSensitive:n}=this.options;e=n?e:e.toLowerCase();let o=0,i=[],c=0;for(let a=0,l=s.length;a<l;a+=1){let h=s[a];i.length=0,o=0;for(let u=0,m=h.length;u<m;u+=1){let p=h[u],{isMatch:f,indices:g,score:w}=p.search(e);if(f){if(o+=1,c+=w,r){let M=p.constructor.type;Nt.has(M)?i=[...i,...g]:i.push(g)}}else{c=0,o=0,i.length=0;break}}if(o){let u={isMatch:!0,score:c/o};return r&&(u.indices=i),u}}return{isMatch:!1,score:1}}},ge=[];function Ft(...t){ge.push(...t)}function Ee(t,e){for(let s=0,r=ge.length;s<r;s+=1){let n=ge[s];if(n.condition(t,e))return new n(t,e)}return new z(t,e)}var J={AND:"$and",OR:"$or"},Le={PATH:"$path",PATTERN:"$val"},we=t=>!!(t[J.AND]||t[J.OR]),Ot=t=>!!t[Le.PATH],Ct=t=>!R(t)&&Ge(t)&&!we(t),Ye=t=>({[J.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function Qe(t,e,{auto:s=!0}={}){let r=n=>{let o=Object.keys(n),i=Ot(n);if(!i&&o.length>1&&!we(n))return r(Ye(n));if(Ct(n)){let a=i?n[Le.PATH]:o[0],l=i?n[Le.PATTERN]:n[a];if(!v(l))throw new Error(gt(a));let h={keyId:ce(a),pattern:l};return s&&(h.searcher=Ee(l,e)),h}let c={children:[],operator:o[0]};return o.forEach(a=>{let l=n[a];R(l)&&l.forEach(h=>{c.children.push(r(h))})}),c};return we(t)||(t=Ye(t)),r(t)}function Dt(t,{ignoreFieldNorm:e=d.ignoreFieldNorm}){t.forEach(s=>{let r=1;s.matches.forEach(({key:n,norm:o,score:i})=>{let c=n?n.weight:null;r*=Math.pow(i===0&&c?Number.EPSILON:i,(c||1)*(e?1:o))}),s.score=r})}function Pt(t,e){let s=t.matches;e.matches=[],x(s)&&s.forEach(r=>{if(!x(r.indices)||!r.indices.length)return;let{indices:n,value:o}=r,i={indices:n,value:o};r.key&&(i.key=r.key.src),r.idx>-1&&(i.refIndex=r.idx),e.matches.push(i)})}function jt(t,e){e.score=t.score}function Bt(t,e,{includeMatches:s=d.includeMatches,includeScore:r=d.includeScore}={}){let n=[];return s&&n.push(Pt),r&&n.push(jt),t.map(o=>{let{idx:i}=o,c={item:e[i],refIndex:i};return n.length&&n.forEach(a=>{a(o,c)}),c})}var S=class{constructor(e,s={},r){this.options=H(H({},d),s),this.options.useExtendedSearch,this._keyStore=new ie(this.options.keys),this.setCollection(e,r)}setCollection(e,s){if(this._docs=e,s&&!(s instanceof B))throw new Error(pt);this._myIndex=s||Ze(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!x(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let s=[];for(let r=0,n=this._docs.length;r<n;r+=1){let o=this._docs[r];e(o,r)&&(this.removeAt(r),r-=1,n-=1,s.push(o))}return s}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:s=-1}={}){let{includeMatches:r,includeScore:n,shouldSort:o,sortFn:i,ignoreFieldNorm:c}=this.options,a=v(e)?v(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Dt(a,{ignoreFieldNorm:c}),o&&a.sort(i),Xe(s)&&s>-1&&(a=a.slice(0,s)),Bt(a,this._docs,{includeMatches:r,includeScore:n})}_searchStringList(e){let s=Ee(e,this.options),{records:r}=this._myIndex,n=[];return r.forEach(({v:o,i,n:c})=>{if(!x(o))return;let{isMatch:a,score:l,indices:h}=s.searchIn(o);a&&n.push({item:o,idx:i,matches:[{score:l,value:o,norm:c,indices:h}]})}),n}_searchLogical(e){let s=Qe(e,this.options),r=(c,a,l)=>{if(!c.children){let{keyId:u,searcher:m}=c,p=this._findMatches({key:this._keyStore.get(u),value:this._myIndex.getValueForItemAtKeyId(a,u),searcher:m});return p&&p.length?[{idx:l,item:a,matches:p}]:[]}let h=[];for(let u=0,m=c.children.length;u<m;u+=1){let p=c.children[u],f=r(p,a,l);if(f.length)h.push(...f);else if(c.operator===J.AND)return[]}return h},n=this._myIndex.records,o={},i=[];return n.forEach(({$:c,i:a})=>{if(x(c)){let l=r(s,c,a);l.length&&(o[a]||(o[a]={idx:a,item:c,matches:[]},i.push(o[a])),l.forEach(({matches:h})=>{o[a].matches.push(...h)}))}}),i}_searchObjectList(e){let s=Ee(e,this.options),{keys:r,records:n}=this._myIndex,o=[];return n.forEach(({$:i,i:c})=>{if(!x(i))return;let a=[];r.forEach((l,h)=>{a.push(...this._findMatches({key:l,value:i[h],searcher:s}))}),a.length&&o.push({idx:c,item:i,matches:a})}),o}_findMatches({key:e,value:s,searcher:r}){if(!x(s))return[];let n=[];if(R(s))s.forEach(({v:o,i,n:c})=>{if(!x(o))return;let{isMatch:a,score:l,indices:h}=r.searchIn(o);a&&n.push({score:l,key:e,value:o,idx:i,norm:c,indices:h})});else{let{v:o,n:i}=s,{isMatch:c,score:a,indices:l}=r.searchIn(o);c&&n.push({score:a,key:e,value:o,norm:i,indices:l})}return n}};S.version="6.6.2";S.createIndex=Ze;S.parseIndex=St;S.config=d;S.parseQuery=Qe;Ft(pe);var L=t=>{let e=document.getElementById(t);if(!(e instanceof HTMLElement))throw new Error("Element is unexpectedly missing");return e};var ee=()=>{L("search-results").classList.remove("hidden")},D=()=>{L("search-results").classList.add("hidden")},W=()=>{let t=L("search-results");t.innerHTML=""},Me=()=>{L("search-results").insertAdjacentHTML("beforeend",'<div class="p-2 w-full"><p>No Results</p></div>')},Wt=(t,e)=>{let s="",r=0;return e.forEach(([n,o],i)=>{s+=t.substring(r,n),r=o+1,s+=`<span class="text-gray-800 font-bold">${t.substring(n,o+1)}</span>`,i===e.length-1&&(s+=t.substring(o+1,t.length))}),s},xe=(t,e)=>{let{name:s,slug:r,type:n}=t,o=`/${n}/${r}/`,i="flex flex-col p-2 hover:bg-gray-300 cursor-pointer focus-visible:bg-gray-200 focus-visible:text-gray-800",c=`<p class="w-3/4">${Wt(s,e)}</p>`,a=`<p class="w-1/4 opacity-50 text-right">${n}</p>`,l=`<div class="flex flex-row">${c}${a}</div>`;return`<a href="${o}" tabindex="0" class="${i}">${l}</a>`},ye=t=>{L("search-results").insertAdjacentHTML("beforeend",t)},ve="focussed-result",q=[ve,"bg-gray-200","text-gray-800"],V=()=>{let{children:t}=L("search-results");if(t.length===0)return-1;for(let e=0;e<t.length;e++)if(t[e]&&t[e].classList.contains(ve))return e;throw new Error("Focussed Result index is missing")},Ie=()=>{let{children:t}=L("search-results");for(let e=0;e<t.length;e++)if(t[e]){let s=t[e];if(s.classList.contains(ve)){let r=s.getAttribute("href");if(typeof r=="string")return r}}throw new Error("Focussed Result href is missing")},K=t=>{let{children:{[t]:e}}=L("search-results");e&&e.classList.remove(...q)},P=t=>{let{children:e}=L("search-results"),s=e.length-1;if(t>s){e[0].classList.add(...q);return}if(t<0){e[s].classList.add(...q);return}e[t].classList.add(...q)},be=()=>{let t=L("search");t.value="",t.focus()};var Je=t=>{let{naturalHeight:e,naturalWidth:s}=t;return{naturalHeight:e,naturalWidth:s}},Y=t=>{let{width:e,height:s,top:r,left:n}=t.getBoundingClientRect();return{width:e,height:s,top:r,left:n}},qe=t=>{let e=parseInt(window.getComputedStyle(t).getPropertyValue("padding-left").replace("px","")),s=parseInt(window.getComputedStyle(t).getPropertyValue("padding-top").replace("px","")),r=parseInt(window.getComputedStyle(t).getPropertyValue("padding-top").replace("px","")),n=parseInt(window.getComputedStyle(t).getPropertyValue("padding-top").replace("px",""));return{leftPadding:e,rightPadding:s,topPadding:r,bottomPadding:n}};var Re=t=>{let e=t.split("-").slice(-1);if(e[0])return e[0];throw new Error("Map ID not found")};var N=()=>{if(document.querySelectorAll(".map-marker").length===0)return;let t=document.querySelector('[id^="map-imagewrapper-"]:not(.hidden)');if(!(t instanceof HTMLDivElement))throw new Error("Imagewrapper element is missing");let e=Re(t.id);Vt(e)},Vt=t=>{let e=document.getElementById(`map-imagewrapper-${t}`);if(!(e instanceof HTMLDivElement))throw new Error(`Imagewrapper for mapId ${t} is missing`);let s=e.querySelector(".map-image"),r=e.querySelector(".map-marker");if(!(s instanceof HTMLImageElement))throw new Error(`Image for mapId ${t} is missing`);if(!(r instanceof HTMLImageElement))throw new Error(`Marker icon for mapId ${t} is missing`);let n=Je(s),o=Y(s),i=Y(r),{leftPadding:c,topPadding:a}=qe(e),{markerx:l,markery:h}=r.dataset;if(!l||!h)throw new Error("Marker coordinates not provided");let u=Math.round(parseInt(l)*o.width/n.naturalWidth-i.width/2)+c,m=Math.round(parseInt(h)*o.height/n.naturalHeight-i.height)+a;r.style.top=`${m}px`,r.style.left=`${u}px`,r.classList.replace("opacity-0","opacity-80")};var k=()=>{let t=document.querySelector('[id^="map-imagewrapper-"]:not(.hidden)');if(!(t instanceof HTMLDivElement))throw new Error("Imagewrapper element is missing");let{top:e,left:s}=Y(t);t.style.transformOrigin=`${-s}px ${-e}px`};var tt=new S([],{includeMatches:!0,keys:[{name:"name",weight:.7},{name:"type",weight:.3}]});je(void 0,null,function*(){let e=yield(yield fetch("/data.json")).json();tt.setCollection(e)});var et="",te=t=>{let{value:e}=t.target;if(e===et&&t.type=="input")return;if(et=e,W(),e.length===0){D();return}let s=tt.search(e).slice(0,9);if(s.length===0){Me(),ee();return}let r=s.map(n=>{let{item:o,matches:i}=n;if(!i||!i[0])throw new Error("Matching indices missing in fuse result object");let c=i[0].indices;return xe(o,c)}).join("");ye(r),ee(),P(0)};var Se=t=>{let{key:e}=t;if(e==="ArrowDown"){t.preventDefault();let s=V();if(s===-1)return;K(s),P(s+1)}if(e==="ArrowUp"){t.preventDefault();let s=V();if(s===-1)return;K(s),P(s-1)}if(e==="Enter"){t.preventDefault();let s=Ie();window.location.href=s}if(e==="Tab"){let s=V();if(s===-1)return;K(s)}e==="Escape"&&(be(),W())};var Te=t=>{let{relatedTarget:e}=t;if(e===null){D();return}if(e instanceof HTMLElement&&!e.matches("#search-wrapper *")){D();return}};var st=(t,e,s)=>Math.min(Math.max(t,e),s),rt=()=>{let t=document.getElementById("reset-zoom-button");if(!t)throw new Error("Reset button is missing");t.classList.add("flex"),t.classList.remove("hidden")},Kt=()=>{let t=document.getElementById("reset-zoom-button");if(!t)throw new Error("Reset button is missing");t.classList.add("hidden"),t.classList.remove("flex")},Ae=()=>{document.querySelectorAll("[id^=map-imagewrapper-]").forEach(e=>{if(!(e instanceof HTMLDivElement))throw new Error("element with `map-imagewrapper-` id is not a div element");let s=!1,r=!1,n=1,o=0,i=0,c=0,a=0,l=()=>{e.style.transform=`translate(${o}px, ${i}px) scale(${n})`},h=(f,g)=>Math.hypot(f.pageX-g.pageX,f.pageY-g.pageY);e.onmousedown=f=>{f.preventDefault();let{clientX:g,clientY:w,buttons:M}=f;M!==1&&M!==4||(c=g-o,a=w-i,r=!0,e.style.cursor="grabbing")},e.onmouseup=()=>{r=!1,e.style.cursor="grab"},e.onmousemove=f=>{if(f.preventDefault(),!r)return;s||(rt(),s=!0);let{clientX:g,clientY:w}=f;o=g-c,i=w-a,l()},e.onwheel=f=>{f.preventDefault(),s||(rt(),s=!0);let{clientX:g,clientY:w,deltaY:M}=f,T=(g-o)/n,b=(w-i)/n,F=-M,X=6,O=1,E=1.2;F>0?n=st(n*E,1/j(E,O),j(E,X)):n=st(n/E,1/j(E,O),j(E,X)),o=g-T*n,i=w-b*n,l()};let u=()=>{r=!1,n=1,o=0,i=0,c=0,a=0,l(),Kt(),s=!1};window.addEventListener("resize",()=>{u(),k()}),document.querySelectorAll('input[name="map-selector"]').forEach(f=>{f.addEventListener("change",u)});let p=document.getElementById("reset-zoom-button");if(!p)throw new Error("Reset button is missing");p.addEventListener("click",u)})};var Yt=t=>{document.querySelectorAll("[id^=map-imagewrapper-]").forEach(n=>{n.classList.contains("hidden")||n.classList.add("hidden")});let s=document.getElementById(`map-imagewrapper-${t}`);if(!(s instanceof HTMLElement))throw new Error("Imagewrapper for selected map is missing");s.classList.remove("hidden");let r=s.querySelector(".map-image");if(!(r instanceof HTMLImageElement))throw new Error("Image for selected map is missing");r.complete?(k(),N()):r.addEventListener("load",()=>{k(),N()})},_e=()=>{let t=document.getElementById("map-selector");t instanceof HTMLSelectElement&&t.addEventListener("change",()=>{let{selectedIndex:e}=t;Yt(e)})};var ke=()=>{let t=document.getElementById("search");if(!(t instanceof HTMLElement))return;t.addEventListener("input",te),t.addEventListener("focus",te),t.addEventListener("keydown",Se),L("search-wrapper").addEventListener("focusout",Te)};var nt=()=>{k(),Ae(),_e(),N(),window.addEventListener("resize",()=>{N()})},He=()=>{let t=document.querySelector('[id^="map-imagewrapper-"]:not(.hidden) .map-image');if(t instanceof HTMLImageElement){if(t.complete){nt();return}t.addEventListener("load",()=>{nt()})}};var ot=()=>{L("navbarItems").classList.remove("-translate-x-full")},Xt=()=>{L("navbarItems").classList.add("-translate-x-full")},Gt=()=>{let t=L("hamburger");t.checked=!t.checked},$e=t=>{let{target:e}=t;e instanceof HTMLElement&&e.matches("#navbarItems *")||e instanceof HTMLElement&&e.matches("#hamburger-label, #hamburger-label *")||(Gt(),ot(),document.removeEventListener("click",$e))},Ne=()=>{L("hamburger").addEventListener("change",e=>{let{checked:s}=e.target;s?(Xt(),document.addEventListener("click",$e)):(ot(),document.removeEventListener("click",$e))})};var Fe=()=>{document.querySelectorAll("input.accordeon-checkbox").forEach(e=>{e.addEventListener("change",()=>{let s=e.closest(".accordeon-parent");if(!(s instanceof HTMLDivElement))throw new Error("accordeonParent is not an HTMLDivElement");let r=s.querySelector(".accordeon-content");if(!(r instanceof HTMLDivElement))throw new Error("accordeonContent is not an HTMLDivElement");e.checked?(r.classList.replace("max-h-0","max-h-full"),r.classList.replace("opacity-0","opacity-100")):(r.classList.replace("max-h-full","max-h-0"),r.classList.replace("opacity-100","opacity-0"))})})};var it=()=>{re(),ne(),ke(),He(),Ne(),Fe()};document.readyState!=="loading"?it():document.addEventListener("DOMContentLoaded",()=>{it()});})();
