(()=>{var h=e=>{let{naturalHeight:t,naturalWidth:n}=e;return{naturalHeight:t,naturalWidth:n}},l=e=>{let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}},c=e=>{let t=document.getElementById(`map-image-${e}`),n=document.getElementById(`map-marker-${e}`);if(t instanceof HTMLImageElement&&n instanceof HTMLElement){let i=h(t),a=l(t),r=l(n),{markerx:o,markery:m}=n.dataset;if(o&&m){let u=Math.round(parseInt(o)*a.width/i.naturalWidth-r.width/2),g=Math.round(parseInt(m)*a.height/i.naturalHeight-r.height);n.style.top=`${g}px`,n.style.left=`${u}px`,n.classList.remove("opacity-0"),n.classList.add("opacity-90")}else throw new Error("Marker coordinates not provided")}else throw new Error("Invalid Map or Marker element")},s=e=>{let t=e.split("-").slice(-1);if(t[0])return t[0];throw new Error("Map ID not found")},E=e=>{let t=e.target,n=s(t.id);document.querySelectorAll("[id^=map-imagewrapper-]").forEach(r=>{r.classList.contains("hidden")||r.classList.add("hidden")});let a=document.getElementById(`map-imagewrapper-${n}`);a&&a.classList.remove("hidden"),c(n)},I=()=>{document.querySelectorAll('input[name="map-selector"]').forEach(t=>{t.addEventListener("change",E)})},d=()=>{let e=document.querySelector('[id^="map-imagewrapper-"]:not(.hidden)');if(e){let t=s(e.id);c(t)}},M=()=>{let e=document.querySelector('[id^="map-imagewrapper-"]:not(.hidden)');if(e){let t=s(e.id);return document.querySelector(`#map-image-${t}`)}return null},p=()=>{d(),window.addEventListener("resize",d),I()};document.addEventListener("DOMContentLoaded",()=>{let e=M();if(e===null||!(e instanceof HTMLImageElement))throw new Error("No Image Available on Marker page");e.complete?p():e.addEventListener("load",()=>{p()})});})();
