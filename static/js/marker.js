(()=>{var g=t=>{let{naturalHeight:e,naturalWidth:n}=t;return{naturalHeight:e,naturalWidth:n}},m=t=>{let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}},l=t=>{let e=document.getElementById(`map-image-${t}`),n=document.getElementById(`map-marker-${t}`);if(e instanceof HTMLImageElement&&n instanceof HTMLElement){let s=g(e),a=m(e),r=m(n),{markerx:i,markery:o}=n.dataset;if(i&&o){let p=Math.round(parseInt(i)*a.width/s.naturalWidth-r.width/2),u=Math.round(parseInt(o)*a.height/s.naturalHeight-r.height);n.style.top=`${u}px`,n.style.left=`${p}px`,n.classList.remove("opacity-0"),n.classList.add("opacity-90")}else throw new Error("Marker coordinates not provided")}else throw new Error("Invalid Map or Marker element")},c=t=>{let e=t.split("-").slice(-1);if(e[0])return e[0];throw new Error("Map ID not found")},h=t=>{let e=t.target,n=c(e.id);document.querySelectorAll("[id^=map-imagewrapper-]").forEach(r=>{r.classList.contains("hidden")||r.classList.add("hidden")});let a=document.getElementById(`map-imagewrapper-${n}`);a&&a.classList.remove("hidden"),l(n)},E=()=>{document.querySelectorAll('input[name="map-selector"]').forEach(e=>{e.addEventListener("change",h)})},d=()=>{let t=document.querySelector('[id^="map-imagewrapper-"]:not(.hidden)');if(t){let e=c(t.id);l(e)}};document.addEventListener("DOMContentLoaded",()=>{d(),window.addEventListener("resize",d),E()});})();
