{
  "version": 3,
  "sources": ["../ts/base.ts"],
  "sourcesContent": ["const generateLink = (short_name: string, type: string): string => {\n    return `/${type}/${short_name}`;\n};\n\nconst partialBoldString = (fullText: string, boldText: string): string => {\n    return fullText.replace(\n        new RegExp(boldText, 'gi'),\n        `<span class=\"font-extrabold text-white\">${boldText}</span>`,\n    );\n};\n\nconst wrapperClassList: string[] = ['flex', 'flex-col', 'p-2', 'text-md'];\nconst linkClassList: string[] = ['flex', 'flex-row'];\nconst nameClassList: string[] = ['w-1/2', 'text-gray-200'];\nconst typeClassList: string[] = ['w-1/2', 'text-gray-200', 'opacity-50', 'text-right'];\n\nconst createSearchResult = (name: string, short_name: string, type: string, query: string) => {\n    const resultWrapper = document.createElement('div');\n    resultWrapper.classList.add(...wrapperClassList);\n\n    const resultLink = document.createElement('a');\n    resultLink.href = generateLink(short_name, type);\n    resultLink.classList.add(...linkClassList);\n\n    const resultName = document.createElement('p');\n    resultName.innerHTML = partialBoldString(name, query);\n    resultName.classList.add(...nameClassList);\n\n    const resultType = document.createElement('p');\n    resultType.innerHTML = type;\n    resultType.classList.add(...typeClassList);\n\n    resultLink.appendChild(resultName);\n    resultLink.appendChild(resultType);\n    resultWrapper.appendChild(resultLink);\n\n    return resultWrapper;\n};\n\nconst createNoResult = (): HTMLElement => {\n    const wrapper = document.createElement('div');\n    wrapper.classList.add(...['p-2', 'text-md', 'text-gray-200', 'w-full']);\n\n    const text = document.createElement('p');\n    text.innerHTML = 'No Results';\n\n    wrapper.appendChild(text);\n\n    return wrapper;\n};\n\nconst handleSearch = (event: Event, searchResultsBox: HTMLElement) => {\n    searchResultsBox.innerHTML = '';\n\n    const { entries } = window.malazan;\n\n    const { value } = event.target as HTMLInputElement;\n\n    if (value.length > 0) {\n        const results = entries.filter(({ name }) => {\n            return name.match(new RegExp(value, 'i'));\n        });\n\n        const resultElements = results.map((result) => {\n            const { name, short_name, type } = result;\n\n            return createSearchResult(name, short_name, type, value);\n        });\n\n        if (resultElements.length > 0) {\n            resultElements.forEach((element) => searchResultsBox.appendChild(element));\n        } else {\n            const noResultElement = createNoResult();\n            searchResultsBox.appendChild(noResultElement);\n        }\n\n        if (searchResultsBox.classList.contains('hidden')) {\n            searchResultsBox.classList.remove('hidden');\n        }\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const searchBox = document.getElementById('search');\n    const searchResultsBox = document.getElementById('search-results');\n\n    if (searchBox instanceof HTMLInputElement && searchResultsBox instanceof HTMLDivElement) {\n        searchBox.addEventListener('input', (event) => handleSearch(event, searchResultsBox));\n        searchBox.addEventListener('focus', (event) => handleSearch(event, searchResultsBox));\n\n        document.addEventListener('focusin', (event) => {\n            const target = event.target as HTMLElement;\n\n            if (!target.matches('#search, #search-results, #search-results *')) {\n                searchResultsBox.classList.add('hidden');\n            }\n        });\n    }\n});\n"],
  "mappings": "AAAA,MAAM,eAAe,CAAC,YAAoB,SAAyB;AAC/D,SAAO,IAAI,QAAQ;AAAA;AAGvB,MAAM,oBAAoB,CAAC,UAAkB,aAA6B;AACtE,SAAO,SAAS,QACZ,IAAI,OAAO,UAAU,OACrB,2CAA2C;AAAA;AAInD,MAAM,mBAA6B,CAAC,QAAQ,YAAY,OAAO;AAC/D,MAAM,gBAA0B,CAAC,QAAQ;AACzC,MAAM,gBAA0B,CAAC,SAAS;AAC1C,MAAM,gBAA0B,CAAC,SAAS,iBAAiB,cAAc;AAEzE,MAAM,qBAAqB,CAAC,MAAc,YAAoB,MAAc,UAAkB;AAC1F,QAAM,gBAAgB,SAAS,cAAc;AAC7C,gBAAc,UAAU,IAAI,GAAG;AAE/B,QAAM,aAAa,SAAS,cAAc;AAC1C,aAAW,OAAO,aAAa,YAAY;AAC3C,aAAW,UAAU,IAAI,GAAG;AAE5B,QAAM,aAAa,SAAS,cAAc;AAC1C,aAAW,YAAY,kBAAkB,MAAM;AAC/C,aAAW,UAAU,IAAI,GAAG;AAE5B,QAAM,aAAa,SAAS,cAAc;AAC1C,aAAW,YAAY;AACvB,aAAW,UAAU,IAAI,GAAG;AAE5B,aAAW,YAAY;AACvB,aAAW,YAAY;AACvB,gBAAc,YAAY;AAE1B,SAAO;AAAA;AAGX,MAAM,iBAAiB,MAAmB;AACtC,QAAM,UAAU,SAAS,cAAc;AACvC,UAAQ,UAAU,IAAI,GAAG,CAAC,OAAO,WAAW,iBAAiB;AAE7D,QAAM,OAAO,SAAS,cAAc;AACpC,OAAK,YAAY;AAEjB,UAAQ,YAAY;AAEpB,SAAO;AAAA;AAGX,MAAM,eAAe,CAAC,OAAc,qBAAkC;AAClE,mBAAiB,YAAY;AAE7B,QAAM,EAAE,YAAY,OAAO;AAE3B,QAAM,EAAE,UAAU,MAAM;AAExB,MAAI,MAAM,SAAS,GAAG;AAClB,UAAM,UAAU,QAAQ,OAAO,CAAC,EAAE,WAAW;AACzC,aAAO,KAAK,MAAM,IAAI,OAAO,OAAO;AAAA;AAGxC,UAAM,iBAAiB,QAAQ,IAAI,CAAC,WAAW;AAC3C,YAAM,EAAE,MAAM,YAAY,SAAS;AAEnC,aAAO,mBAAmB,MAAM,YAAY,MAAM;AAAA;AAGtD,QAAI,eAAe,SAAS,GAAG;AAC3B,qBAAe,QAAQ,CAAC,YAAY,iBAAiB,YAAY;AAAA,WAC9D;AACH,YAAM,kBAAkB;AACxB,uBAAiB,YAAY;AAAA;AAGjC,QAAI,iBAAiB,UAAU,SAAS,WAAW;AAC/C,uBAAiB,UAAU,OAAO;AAAA;AAAA;AAAA;AAK9C,SAAS,iBAAiB,oBAAoB,MAAM;AAChD,QAAM,YAAY,SAAS,eAAe;AAC1C,QAAM,mBAAmB,SAAS,eAAe;AAEjD,MAAI,qBAAqB,oBAAoB,4BAA4B,gBAAgB;AACrF,cAAU,iBAAiB,SAAS,CAAC,UAAU,aAAa,OAAO;AACnE,cAAU,iBAAiB,SAAS,CAAC,UAAU,aAAa,OAAO;AAEnE,aAAS,iBAAiB,WAAW,CAAC,UAAU;AAC5C,YAAM,SAAS,MAAM;AAErB,UAAI,CAAC,OAAO,QAAQ,gDAAgD;AAChE,yBAAiB,UAAU,IAAI;AAAA;AAAA;AAAA;AAAA;",
  "names": []
}
