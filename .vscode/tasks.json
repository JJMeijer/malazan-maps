{
  // See https://go.microsoft.com/fwlink/?LinkId=733558
  // for the documentation about the tasks.json format
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Shell: Clear dirs",
      "type": "shell",
      "command": "gci static, mapsdata/static/js, mapsdata/static/css/main-dist.css -Recurse -Depth 0 | ri -R",
      "group": "build",
      "problemMatcher": [],
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      }
    },
    {
      "label": "Yarn: Build Prod CSS",
      "type": "shell",
      "command": "yarn build-css:prod",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Yarn: Build Prod JS",
      "type": "shell",
      "command": "yarn build-js:prod",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Django: Collectstatic",
      "type": "shell",
      "command": "./.venv/Scripts/activate; python manage.py collectstatic --noinput -i import_export -i admin -i admin_interface -i colorfield -i ckeditor",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Django-Distill: Build Locally",
      "type": "shell",
      "command": "./.venv/Scripts/activate; python manage.py distill-local",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Google Cloud: Deploy App",
      "type": "shell",
      "command": "cd dist; gcloud app deploy",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Yarn: Rebuild Dev JS",
      "type": "shell",
      "command": "yarn build-js:dev",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": true,
        "clear": false
      },
      "problemMatcher": []
    },
    {
      "label": "Linting: Pylint",
      "type": "shell",
      "command": "./.venv/Scripts/activate; pylint mapsdata --load-plugins=pylint_django --django-settings-module=malazan_maps.settings --disable=C0114,C0115,R0903 --output-format=colorized",
      "group": "none",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": true
      },
      "problemMatcher": []
    },
    {
      "label": "Linting: Eslint",
      "type": "shell",
      "command": "yarn eslint mapsdata/src",
      "group": "none",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared",
        "showReuseMessage": false,
        "clear": false
      },
      "problemMatcher": [
        "$eslint-stylish"
      ]
    },
    {
      "label": "Lint",
      "dependsOn": [
        "Linting: Pylint",
        "Linting: Eslint",
      ],
      "problemMatcher": [],
      "dependsOrder": "sequence"
    },
    {
      "label": "Build",
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "dependsOn": [
        "Lint",
        "Shell: Clear dirs",
        "Yarn: Build Prod CSS",
        "Yarn: Build Prod JS",
        "Django: Migrations",
        "Django: Collectstatic",
        "Django-Distill: Build Locally",
        "Google Cloud: Deploy App",
        "Yarn: Rebuild Dev JS"
      ],
      "problemMatcher": [],
      "dependsOrder": "sequence"
    }
  ]
}
